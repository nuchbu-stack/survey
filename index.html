<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .emoji-option { transition: all 0.2s ease; }
    .emoji-option input:checked + div {
      outline: 3px solid #1d4ed8;
      box-shadow: 0 0 0 4px rgba(29,78,216,0.2);
      transform: translateY(-2px) scale(1.03);
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
  <div class="bg-white p-8 rounded-2xl shadow-lg w-full max-w-2xl">
    <h1 class="text-2xl font-bold mb-6 text-center">‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à</h1>

    <form id="surveyForm" class="space-y-6">
      <!-- ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° 1 -->
      <div>
        <label class="block mb-2 font-medium">1. ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô</label>
        <div class="flex justify-between items-stretch space-x-2">
          <label class="emoji-option cursor-pointer w-full">
            <input type="radio" name="q1" value="5" class="hidden" required>
            <div class="flex flex-col items-center p-3 rounded-xl border-2 border-transparent bg-green-500 text-white hover:brightness-105">
              <span class="emoji text-3xl">üòÅ</span>
              <span class="label mt-1">‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</span>
            </div>
          </label>
          <label class="emoji-option cursor-pointer w-full">
            <input type="radio" name="q1" value="4" class="hidden">
            <div class="flex flex-col items-center p-3 rounded-xl border-2 border-transparent bg-lime-500 text-white hover:brightness-105">
              <span class="emoji text-3xl">üòä</span>
              <span class="label mt-1">‡∏°‡∏≤‡∏Å</span>
            </div>
          </label>
          <label class="emoji-option cursor-pointer w-full">
            <input type="radio" name="q1" value="3" class="hidden">
            <div class="flex flex-col items-center p-3 rounded-xl border-2 border-transparent bg-yellow-300 text-black hover:brightness-105">
              <span class="emoji text-3xl">üòê</span>
              <span class="label mt-1">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</span>
            </div>
          </label>
          <label class="emoji-option cursor-pointer w-full">
            <input type="radio" name="q1" value="2" class="hidden">
            <div class="flex flex-col items-center p-3 rounded-xl border-2 border-transparent bg-orange-400 text-white hover:brightness-105">
              <span class="emoji text-3xl">üòï</span>
              <span class="label mt-1">‡∏ô‡πâ‡∏≠‡∏¢</span>
            </div>
          </label>
          <label class="emoji-option cursor-pointer w-full">
            <input type="radio" name="q1" value="1" class="hidden">
            <div class="flex flex-col items-center p-3 rounded-xl border-2 border-transparent bg-red-500 text-white hover:brightness-105">
              <span class="emoji text-3xl">üò°</span>
              <span class="label mt-1">‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</span>
            </div>
          </label>
        </div>
      </div>

      <!-- ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° 2 -->
      <div>
        <label class="block mb-2 font-medium">2. ‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡πÉ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏î</label>
        <select name="q2" id="q2" class="w-full p-2 rounded-lg border border-gray-300" required>
          <option value="‡πÑ‡∏°‡πà‡∏°‡∏µ">‡πÑ‡∏°‡πà‡∏°‡∏µ</option>
          <option value="‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà">‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</option>
          <option value="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤ (‡∏à‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô / ‡∏£‡∏≠‡∏ô‡∏≤‡∏ô)</option>
          <option value="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á / ‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô</option>
          <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)</option>
        </select>
        <div id="q2_other_container" class="hidden mt-2">
          <input type="text" name="q2_other" id="q2_other" placeholder="‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏..." class="w-full p-2 rounded-lg border border-gray-300">
        </div>
      </div>

      <!-- ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° 3 -->
      <div>
        <label class="block mb-2 font-medium">3. ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
        <textarea name="q3" rows="3" class="w-full p-2 rounded-lg border border-gray-300"></textarea>
      </div>

      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡πà‡∏á -->
      <button type="submit" id="submitBtn" class="w-full bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:opacity-90 transition">‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</button>
    </form>

    <p id="successMsg" class="hidden text-green-600 font-medium text-center mt-4">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°</p>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const q2 = document.getElementById('q2');
      const q2OtherContainer = document.getElementById('q2_other_container');

      q2.addEventListener('change', () => {
        if (q2.value === '‡∏≠‡∏∑‡πà‡∏ô‡πÜ') {
          q2OtherContainer.classList.remove('hidden');
          q2OtherContainer.querySelector('input').required = true;
        } else {
          q2OtherContainer.classList.add('hidden');
          q2OtherContainer.querySelector('input').required = false;
        }
      });

      const form = document.getElementById('surveyForm');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        let q2Value = form.q2.value;
        if (q2Value === '‡∏≠‡∏∑‡πà‡∏ô‡πÜ') q2Value = document.getElementById('q2_other').value;

        const formData = new URLSearchParams();
        formData.append('q1', form.q1.value);
        formData.append('q2', q2Value);
        formData.append('q3', form.q3.value);

        try {
          const response = await fetch('https://script.google.com/macros/s/AKfycbxBjkxTETG4LMtiKiUZcItojm2ulpYzekZQqwJmyAjPFX3PwGEZMkAWyo6qLcxUKHOqNg/exec', {
            method: 'POST',
            body: formData
          });

          const result = await response.json();

          if (result.status === 'success') {
            form.classList.add('hidden');
            document.getElementById('successMsg').classList.remove('hidden');
          } else {
            alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏ì‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å: ' + result.message);
          }
        } catch(err) {
          console.error(err);
          alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏ì‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà');
        }
      });
    });
  </script>
</body>
</html>